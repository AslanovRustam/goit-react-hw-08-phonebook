{"version":3,"sources":["Components/Registration/registration.module.css","Contacts/contacs.module.css","Form/form.module.css","Components/UserMenu/usermenu.module.css","Components/Home/home.module.css","app.module.css","Filter/filter.module.css","Components/Container/container.module.css","redux/types.js","redux/actions.js","redux/contacts-operations.js","redux/reducer.js","redux/slice.js","redux/store.js","Form/Form.js","redux/contacts-selectors.js","Contacts/Contacts.js","Filter/Filter.js","ContactsView.js","redux/auth-selectors.js","Components/Navigation.js","Components/UserMenu/UserMenu.js","Components/Authorization.js","Components/AppBar.js","Components/Container/Container.js","Components/Home/Home.js","Components/Registration/Registration.js","Components/Login/Login.js","Components/PrivateRoute.js","Components/PublicRoute.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","addContactRequest","createAction","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","types","fetchContactRequest","fetchContactSuccess","fetchContactError","axios","defaults","baseURL","token","headers","common","Authorization","addContact","name","number","dispatch","contact","post","then","data","catch","error","deleteContact","id","delete","fetchContacts","get","register","createAsyncThunk","credentials","a","logIn","logOut","fetchCurrentUser","_","thunkAPI","state","getState","persistedToken","auth","rejectWithValue","contacts","createReducer","payload","action","filter","loading","combineReducers","type","authSlice","createSlice","initialState","user","email","isloggedIn","isFetchingCurrent","extraReducers","operations","fulfilled","isLoggedIn","pending","rejected","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","contactReducer","persistReducer","authReducer","persistor","persistStore","connect","onSubmit","contactOperations","useState","setName","setNumber","reset","contactInputId","shortid","generate","className","s","form","event","preventDefault","map","toLocaleLowerCase","includes","alert","input","value","onChange","e","currentTarget","buttonAdd","getFilter","getFilteredContacts","createSelector","normalizedFilter","toLowerCase","contactsSelectors","contactsOperations","useDispatch","useEffect","contactsList","contactsTitle","length","list","item","onClick","onDeleteContact","button","target","section","mainSection","authSelectors","getIsLoggedIn","getUsername","getIsFetchingCurrentUser","styles","link","display","textDecoration","padding","fontWeight","color","activeLink","Navigation","useSelector","to","exact","style","activeStyle","UserMenu","container","size","AuthNav","header","justifyContent","alignItems","borderBottom","AppBar","console","log","Container","children","HomeView","greatings","Registration","setEmail","password","setPassword","registrationContainer","Login","PrivateRoute","redirectTo","routeProps","PublicRoute","restricted","shouldRedirect","App","isFetchinCurrentUser","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2eb9b240.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"registration_form__1P9zo\",\"input\":\"registration_input__1eFNx\",\"buttonAdd\":\"registration_buttonAdd__2ugu7\",\"registrationContainer\":\"registration_registrationContainer__3aU0b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"contacs_list__1h71m\",\"item\":\"contacs_item__1g80T\",\"contactsList\":\"contacs_contactsList__3z6lQ\",\"contactsTitle\":\"contacs_contactsTitle__2tKf0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"form_form__2jnye\",\"input\":\"form_input__2ZuzD\",\"buttonAdd\":\"form_buttonAdd__3wWPI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"usermenu_container__3dfpV\",\"name\":\"usermenu_name__29NPj\",\"button\":\"usermenu_button__3Uswq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"home_link__2Hf76\",\"greatings\":\"home_greatings__3rca6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainSection\":\"app_mainSection__1YYCI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"filter_section__2sXh1\",\"input\":\"filter_input__wa3kE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"container_container__3_dRP\"};","export default {\r\n  ADD: 'contacts/add',\r\n  DELETE: 'contact/delete',\r\n  FILTER: 'contact/filter',\r\n};\r\n","import types from './types';\r\nimport { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const addContactRequest = createAction('contacts/addContactRequest');\r\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\r\nexport const addContactError = createAction('contacts/addContactError');\r\n\r\nexport const deleteContactRequest = createAction(\r\n  'contacts/deleteContactRequest',\r\n);\r\nexport const deleteContactSuccess = createAction(\r\n  'contacts/deleteContactSuccess',\r\n);\r\nexport const deleteContactError = createAction('contacts/deleteContactError');\r\n\r\nexport const changeFilter = createAction(types.FILTER);\r\n\r\nexport const fetchContactRequest = createAction('contacts/fetchContactRequest');\r\nexport const fetchContactSuccess = createAction('contacts/fetchContactSuccess');\r\nexport const fetchContactError = createAction('contacts/fetchContactError');\r\n","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nimport {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  fetchContactRequest,\r\n  fetchContactSuccess,\r\n  fetchContactError,\r\n} from './actions';\r\n\r\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com';\r\n\r\nconst addContact = (name, number) => dispatch => {\r\n  const contact = { name, number };\r\n  dispatch(addContactRequest());\r\n  axios\r\n    .post(`/contacts`, contact)\r\n    // .post('/contacts/contacts', contact)\r\n    .then(({ data }) => dispatch(addContactSuccess(data)))\r\n    .catch(error => dispatch(addContactError(error)));\r\n};\r\n\r\nconst deleteContact = id => dispatch => {\r\n  dispatch(deleteContactRequest());\r\n  axios\r\n    .delete(`/contacts/${id}`)\r\n    .then(() => dispatch(deleteContactSuccess(id)))\r\n    .catch(error => dispatch(deleteContactError(error)));\r\n};\r\n\r\nconst fetchContacts = () => dispatch => {\r\n  dispatch(fetchContactRequest());\r\n  axios\r\n    .get(`/contacts`)\r\n    .then(({ data }) => dispatch(fetchContactSuccess(data)))\r\n    .catch(error => dispatch(fetchContactError(error)));\r\n};\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nconst register = createAsyncThunk('auth/register', async credentials => {\r\n  try {\r\n    const { data } = await axios.post('/users/signup', credentials);\r\n    token.set(data.token);\r\n    return data;\r\n  } catch (error) {\r\n    return <span>что-то пошло не так</span>;\r\n  }\r\n});\r\n\r\nconst logIn = createAsyncThunk('auth/logIn', async credentials => {\r\n  try {\r\n    const { data } = await axios.post('/users/login', credentials);\r\n    token.set(data.token);\r\n    // console.log(data);\r\n    return data;\r\n  } catch (error) {\r\n    return <span>что-то пошло не так</span>;\r\n  }\r\n});\r\n\r\nconst logOut = createAsyncThunk('auth/logout', async () => {\r\n  try {\r\n    await axios.post('/users/logout');\r\n    token.unset();\r\n  } catch (error) {\r\n    return <span>что-то пошло не так</span>;\r\n  }\r\n});\r\n\r\nconst fetchCurrentUser = createAsyncThunk(\r\n  'auth/refresh',\r\n  async (_, thunkAPI) => {\r\n    const state = thunkAPI.getState();\r\n    const persistedToken = state.auth.token;\r\n\r\n    if (persistedToken === null) {\r\n      return thunkAPI.rejectWithValue();\r\n      // return state;\r\n    }\r\n\r\n    token.set(persistedToken);\r\n\r\n    try {\r\n      const { data } = await axios.get('/users/current');\r\n      return data;\r\n    } catch (error) {}\r\n    // console.log(thunkAPI.getState());\r\n  },\r\n);\r\n\r\nexport default {\r\n  addContact,\r\n  deleteContact,\r\n  fetchContacts,\r\n  register,\r\n  logIn,\r\n  logOut,\r\n  fetchCurrentUser,\r\n};\r\n","import { useRef } from 'react';\r\nimport { combineReducers } from 'redux';\r\nimport types from './types';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  changeFilter,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  fetchContactRequest,\r\n  fetchContactSuccess,\r\n  fetchContactError,\r\n} from './actions';\r\n\r\nconst contactsFirstRender = [\r\n  { id: 'id-1', name: 'Barak Obama', number: '459-12-56' },\r\n  { id: 'id-2', name: 'Donald Trump', number: '443-89-12' },\r\n  { id: 'id-3', name: 'George Washington', number: '645-17-79' },\r\n  { id: 'id-4', name: 'Thomas Jefferson', number: '227-91-26' },\r\n];\r\nconst contacts = createReducer([], {\r\n  [fetchContactSuccess]: (_, { payload }) => payload,\r\n  [addContactSuccess]: (state, action) => [...state, action.payload],\r\n\r\n  [deleteContactSuccess]: (state, { payload }) =>\r\n    // ['contact/delete']: (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst filter = (state = '', { type, payload }) => {\r\n  switch (type) {\r\n    case types.FILTER:\r\n      return payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst loading = createReducer(false, {\r\n  [fetchContactRequest]: () => true,\r\n  [fetchContactSuccess]: () => false,\r\n  [fetchContactError]: () => false,\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactSuccess]: () => false,\r\n  [deleteContactError]: () => false,\r\n});\r\n\r\nexport default combineReducers({ contacts, filter, loading });\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport operations from './contacts-operations';\r\n\r\nconst initialState = {\r\n  user: { name: null, email: null },\r\n  token: null,\r\n  isloggedIn: false,\r\n  isFetchingCurrent: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  extraReducers: {\r\n    [operations.register.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [operations.logIn.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [operations.logOut.fulfilled](state, action) {\r\n      state.user = { name: null, email: null };\r\n      state.token = null;\r\n      state.isLoggedIn = false;\r\n    },\r\n    [operations.fetchCurrentUser.fulfilled](state, action) {\r\n      state.user = { ...action.payload };\r\n      state.isLoggedIn = true;\r\n      state.isFetchingCurrent = false;\r\n    },\r\n    [operations.fetchCurrentUser.pending](state) {\r\n      state.isFetchingCurrent = true;\r\n    },\r\n    [operations.fetchCurrentUser.rejected](state) {\r\n      state.isFetchingCurrent = false;\r\n    },\r\n  },\r\n});\r\n\r\n// const authReducer = authSlice.reducer;\r\n\r\nexport default authSlice.reducer;\r\n","import contactReducer from './reducer';\r\nimport { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport authReducer from './slice';\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n];\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    contacts: contactReducer,\r\n    // auth: authReducer,\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n  },\r\n  middleware,\r\n  // devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\n// export default store;\r\n// const persistor = persistStore(store);\r\n// export default { persistor, store };\r\nexport const persistor = persistStore(store);\r\n","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './form.module.css';\r\nimport shortid from 'shortid';\r\nimport { connect } from 'react-redux';\r\nimport contactOperations from '../redux/contacts-operations';\r\nimport { store } from '../redux/store';\r\n\r\nfunction Form({ onSubmit }) {\r\n  const [name, setName] = useState('');\r\n  const [number, setNumber] = useState();\r\n\r\n  const reset = () => {\r\n    setName('');\r\n    setNumber('');\r\n  };\r\n\r\n  const handleSubmitForm = event => {\r\n    event.preventDefault();\r\n    // onSubmit(name, number);\r\n    const getState = store.getState();\r\n    // console.log(getState.contacts.contacts);\r\n    const getContacts = getState.contacts.contacts.map(contact =>\r\n      contact.name.toLocaleLowerCase(),\r\n    );\r\n    const isGetContactAlready = getContacts.includes(name.toLocaleLowerCase());\r\n    if (isGetContactAlready) {\r\n      alert(`${name} is already in contacts!`);\r\n      reset();\r\n      return;\r\n    } else {\r\n      reset();\r\n      return onSubmit(name, number);\r\n    }\r\n  };\r\n\r\n  const contactInputId = shortid.generate();\r\n\r\n  return (\r\n    <>\r\n      <form className={s.form} onSubmit={handleSubmitForm}>\r\n        <label>\r\n          Name\r\n          <input\r\n            className={s.input}\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={name}\r\n            onChange={e => setName(e.currentTarget.value)}\r\n            id={contactInputId}\r\n          ></input>\r\n        </label>\r\n        <label>\r\n          Number\r\n          <input\r\n            className={s.input}\r\n            type=\"number\"\r\n            name=\"number\"\r\n            value={number}\r\n            onChange={e => setNumber(e.currentTarget.value)}\r\n          ></input>\r\n        </label>\r\n        <button className={s.buttonAdd} type=\"submit\">\r\n          Add contact\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onSubmit: (name, number) =>\r\n    dispatch(contactOperations.addContact(name, number)),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(Form);\r\n","import { createSelector } from '@reduxjs/toolkit';\r\n\r\nconst getFilter = state => state.contacts.filter;\r\nconst getAllContacts = state => state.contacts.contacts;\r\n\r\n//=======без мемоизации\r\n// const getFilteredContacts = state => {\r\n//   const filter = getFilter(state);\r\n//   const contacts = getAllContacts(state);\r\n//   const normalizedFilter = filter.toLowerCase();\r\n//   return contacts.filter(contact =>\r\n//     contact.name.toLowerCase().includes(normalizedFilter),\r\n//   );\r\n// };\r\n\r\n////======мемоизация\r\nconst getFilteredContacts = createSelector(\r\n  [getFilter, getAllContacts],\r\n  (filter, contacts) => {\r\n    const normalizedFilter = filter.toLowerCase();\r\n    return contacts.filter(\r\n      contact => contact.name.toLowerCase().includes(normalizedFilter),\r\n      // console.log(contacts),\r\n    );\r\n  },\r\n);\r\n\r\nconst getContactsAfterFilter = state => {\r\n  // const { filter, contacts } = state.contacts;\r\n  // const normalizedFilter = filter.toLowerCase();\r\n  // const filteredContacts = getFilteredContacts(state);\r\n  return {\r\n    // contacts: filteredContacts,\r\n    contacts: getFilteredContacts(state),\r\n  };\r\n};\r\n\r\nconst getIsLoggedIn = state => state.auth.isloggedIn;\r\nconst getUserName = state => state.auth.user.name;\r\n\r\nconst authSelectors = {\r\n  getIsLoggedIn,\r\n  getUserName,\r\n};\r\n\r\nexport default {\r\n  getFilter,\r\n  getFilteredContacts,\r\n  getContactsAfterFilter,\r\n  getIsLoggedIn,\r\n  getUserName,\r\n  authSelectors,\r\n};\r\n","import s from './contacs.module.css';\r\nimport { connect } from 'react-redux';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n// import deleteContact from '../redux/contacts-operations';\r\nimport contactsSelectors from '../redux/contacts-selectors';\r\nimport contactsOperations from '../redux/contacts-operations';\r\n\r\nconst Contactlist = ({ contacts }) => {\r\n  const dispatch = useDispatch();\r\n  const onDeleteContact = id => dispatch(contactsOperations.deleteContact(id));\r\n  useEffect(() => {\r\n    dispatch(contactsOperations.fetchContacts());\r\n  }, []);\r\n  // console.log(contacts);\r\n  return (\r\n    <div className={s.contactsList}>\r\n      <h2 className={s.contactsTitle}>Contacts</h2>\r\n      <span>Total number of contacts - {contacts.contacts.length}</span>\r\n      <ul className={s.list}>\r\n        {/* {contacts.map(({ id, name, number }) => ( */}\r\n        {contacts.contacts.map(({ id, name, number }) => (\r\n          <li className={s.item} key={id}>\r\n            {name} {number}\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => onDeleteContact(id)}\r\n              className={s.button}\r\n            >\r\n              <span>Delete</span>\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    contacts: contactsSelectors.getContactsAfterFilter(state),\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  // onDeleteContact: id => dispatch(deleteContact(id)),\r\n  fetchContacts: () => dispatch(contactsOperations.fetchContacts()),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Contactlist);\r\n","import s from './filter.module.css';\r\nimport { connect } from 'react-redux';\r\nimport { changeFilter } from '../redux/actions';\r\nimport contactsSelectors from '../redux/contacts-selectors';\r\n\r\nconst Filter = ({ value, onChange }) => {\r\n  return (\r\n    <div className={s.section}>\r\n      <label>\r\n        Find Contacts by name\r\n        <input\r\n          type=\"text\"\r\n          className={s.input}\r\n          value={value}\r\n          onChange={onChange}\r\n        />\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  contacts: contactsSelectors.getFilter(state),\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onChange: e => dispatch(changeFilter(e.target.value)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Filter);\r\n","import Form from './Form/Form';\r\nimport Contactlist from './Contacts/Contacts';\r\nimport Filter from './Filter/Filter';\r\nimport s from './app.module.css';\r\nimport { connect } from 'react-redux';\r\nimport addContact from './redux/contacts-operations';\r\n\r\nfunction ContactsView() {\r\n  return (\r\n    <div className={s.mainSection}>\r\n      <Form onSubmit={addContact} />\r\n      <Filter />\r\n\r\n      <Contactlist />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect()(ContactsView);\r\n","const getIsLoggedIn = state => state.auth.isLoggedIn;\r\n\r\nconst getUsername = state => state.auth.user.name;\r\n\r\nconst getIsFetchingCurrentUser = state => state.auth.isFetchingCurrent;\r\n\r\nconst authSelectors = {\r\n  getIsLoggedIn,\r\n  getUsername,\r\n  getIsFetchingCurrentUser,\r\n};\r\n\r\nexport default authSelectors;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport authSelectors from '../redux/auth-selectors';\r\n\r\nconst styles = {\r\n  link: {\r\n    display: 'inline-block',\r\n    textDecoration: 'none',\r\n    padding: 12,\r\n    fontWeight: 700,\r\n    color: '#2A363B',\r\n  },\r\n  activeLink: {\r\n    color: '#E84A5F',\r\n  },\r\n};\r\n\r\nconst Navigation = () => {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <nav>\r\n      <NavLink to=\"/\" exact style={styles.link} activeStyle={styles.activeLink}>\r\n        Home\r\n      </NavLink>\r\n      {isLoggedIn && (\r\n        <NavLink\r\n          to=\"/contacts\"\r\n          exact\r\n          style={styles.link}\r\n          activeStyle={styles.activeLink}\r\n        >\r\n          Contacts\r\n        </NavLink>\r\n      )}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import { useDispatch, useSelector } from 'react-redux';\r\n// import { authSelectors, authOperations } from '../../redux/auth';\r\nimport authSelectors from '../../redux/auth-selectors';\r\n// import defaultAvatar from './default-avatar.png';\r\nimport { VscAccount } from 'react-icons/vsc';\r\nimport contactsOperations from '../../redux/contacts-operations';\r\nimport styles from './usermenu.module.css';\r\n\r\n// const styles = {};\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(authSelectors.getUsername);\r\n  //   const avatar = defaultAvatar;\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      {/* <img src={avatar} alt=\"\" width=\"32\" style={styles.avatar} /> */}\r\n      <span className={styles.name}>You logged in as {name}</span>\r\n      <VscAccount size=\"24\" />\r\n      <button\r\n        className={styles.button}\r\n        type=\"button\"\r\n        onClick={() => dispatch(contactsOperations.logOut())}\r\n      >\r\n        Log Out\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst styles = {\r\n  link: {\r\n    display: 'inline-block',\r\n    textDecoration: 'none',\r\n    padding: 12,\r\n    fontWeight: 700,\r\n    color: '#2A363B',\r\n  },\r\n  activeLink: {\r\n    color: '#E84A5F',\r\n  },\r\n};\r\n\r\nexport default function AuthNav() {\r\n  return (\r\n    <div>\r\n      <NavLink\r\n        to=\"/register\"\r\n        exact\r\n        style={styles.link}\r\n        activeStyle={styles.activeLink}\r\n      >\r\n        Sign up\r\n      </NavLink>\r\n      <NavLink\r\n        to=\"/login\"\r\n        exact\r\n        style={styles.link}\r\n        activeStyle={styles.activeLink}\r\n      >\r\n        Login\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport Navigation from './Navigation';\r\nimport UserMenu from './UserMenu/UserMenu';\r\nimport AuthNav from './Authorization';\r\nimport authSelectors from '../redux/auth-selectors';\r\n\r\nconst styles = {\r\n  header: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    borderBottom: '1px solid #2A363B',\r\n  },\r\n};\r\n\r\nexport default function AppBar() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  console.log(isLoggedIn);\r\n  return (\r\n    <header style={styles.header}>\r\n      <Navigation />\r\n      {/* <AuthNav /> */}\r\n      {/* <UserMenu /> */}\r\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n","import styles from './container.module.css';\r\n\r\nexport default function Container({ children }) {\r\n  return <div className={styles.container}>{children}</div>;\r\n}\r\n","import { NavLink } from 'react-router-dom';\r\nimport styles from './home.module.css';\r\n\r\nexport default function HomeView() {\r\n  return (\r\n    <div className={styles.greatings}>\r\n      <h1>\r\n        Hello dear user, to access your contacts you need to{' '}\r\n        <NavLink to=\"/login\" exact className={styles.link}>\r\n          log in\r\n        </NavLink>{' '}\r\n        or{' '}\r\n        <NavLink to=\"/register\" exact className={styles.link}>\r\n          sign up\r\n        </NavLink>{' '}\r\n        👀🐱‍🏍\r\n      </h1>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport s from './registration.module.css';\r\nimport shortid from 'shortid';\r\nimport { useDispatch } from 'react-redux';\r\nimport contactOperations from '../../redux/contacts-operations';\r\nimport store from '../../redux/store';\r\n\r\nexport default function Registration({ onSubmit }) {\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSubmitForm = event => {\r\n    dispatch(contactOperations.register({ name, email, password }));\r\n    event.preventDefault();\r\n    setName('');\r\n    setEmail('');\r\n    setPassword('');\r\n  };\r\n\r\n  const contactInputId = shortid.generate();\r\n\r\n  return (\r\n    <div className={s.registrationContainer}>\r\n      <form className={s.form} onSubmit={handleSubmitForm}>\r\n        <label>\r\n          Name\r\n          <input\r\n            className={s.input}\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={name}\r\n            onChange={e => setName(e.currentTarget.value)}\r\n            id={contactInputId}\r\n          ></input>\r\n        </label>\r\n        <label>\r\n          E-mail\r\n          <input\r\n            className={s.input}\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={email}\r\n            onChange={e => setEmail(e.currentTarget.value)}\r\n          ></input>\r\n        </label>\r\n        <label>\r\n          Password\r\n          <input\r\n            className={s.input}\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={password}\r\n            onChange={e => setPassword(e.currentTarget.value)}\r\n          ></input>\r\n        </label>\r\n        <button className={s.buttonAdd} type=\"submit\">\r\n          Register\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport s from '../Registration/registration.module.css';\r\nimport shortid from 'shortid';\r\nimport { connect } from 'react-redux';\r\nimport contactOperations from '../../redux/contacts-operations';\r\nimport { useDispatch } from 'react-redux';\r\n\r\n// function Login({ onSubmit }) {\r\nexport default function Login() {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSubmitForm = event => {\r\n    event.preventDefault();\r\n    dispatch(contactOperations.logIn({ email, password }));\r\n    setEmail('');\r\n    setPassword('');\r\n  };\r\n\r\n  const contactInputId = shortid.generate();\r\n\r\n  return (\r\n    <div className={s.registrationContainer}>\r\n      <form className={s.form} onSubmit={handleSubmitForm}>\r\n        <label>\r\n          E-mail\r\n          <input\r\n            className={s.input}\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={email}\r\n            onChange={e => setEmail(e.currentTarget.value)}\r\n          ></input>\r\n        </label>\r\n        <label>\r\n          Password\r\n          <input\r\n            className={s.input}\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={password}\r\n            onChange={e => setPassword(e.currentTarget.value)}\r\n          ></input>\r\n        </label>\r\n        <button className={s.buttonAdd} type=\"submit\">\r\n          Log in\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\n// const mapDispatchToProps = dispatch => ({\r\n//   onSubmit: (email, password) =>\r\n//     dispatch(contactOperations.logIn(email, password)),\r\n// });\r\n\r\n// export default connect(null, mapDispatchToProps)(Login);\r\n","import { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport authSelectors from '../redux/auth-selectors';\r\n\r\n/**\r\n * 1. Он должен повторять API Route\r\n *  2. Он должен рендерить Route\r\n * - Если маршрут приватный и пользователь залогинен, рендерит компонент\r\n * - В противном случае рендерит Redirect на redirectTo\r\n */\r\n\r\nexport default function PrivateRoute({\r\n  children,\r\n  redirectTo = '/',\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <Route {...routeProps}>\r\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\r\n    </Route>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport authSelectors from '../redux/auth-selectors';\r\n\r\n/**\r\n * - Если маршрут ограниченный, и юзер залогинен, рендерит редирект на redirectTo\r\n * - В противном случае рендерит компонент\r\n *\r\n */\r\n\r\nexport default function PublicRoute({\r\n  children,\r\n  restricted = false,\r\n  redirectTo = '/',\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  const shouldRedirect = isLoggedIn && restricted;\r\n  return (\r\n    <Route {...routeProps}>\r\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\r\n    </Route>\r\n  );\r\n}\r\n","import s from './app.module.css';\nimport { connect } from 'react-redux';\nimport ContactsView from './ContactsView';\nimport { Switch, Route } from 'react-router-dom';\nimport AppBar from './Components/AppBar';\nimport Container from './Components/Container/Container';\nimport HomeView from './Components/Home/Home';\nimport Registration from './Components/Registration/Registration';\nimport Login from './Components/Login/Login';\nimport { useEffect, Suspense, lazy } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport operations from './redux/contacts-operations';\nimport PrivateRoute from './Components/PrivateRoute';\nimport PublicRoute from './Components/PublicRoute';\nimport authSelectors from './redux/auth-selectors';\n\n// const HomeView = lazy(() => import('./Components/Home/Home'));\n// const Registration = lazy(() =>\n//   import('./Components/Registration/Registration'),\n// );\n// const Login = lazy(() => import('./Components/Login/Login'));\n// const ContactsView = lazy(() => import('./ContactsView'));\n\nfunction App() {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(operations.fetchCurrentUser());\n  }, [dispatch]);\n  const isFetchinCurrentUser = useSelector(\n    authSelectors.getIsFetchingCurrentUser,\n  );\n  console.log(isFetchinCurrentUser);\n  return (\n    // !isFetchinCurrentUser && (\n    isFetchinCurrentUser ? (\n      <h1>Please stand by, the application is loading...</h1>\n    ) : (\n      <Container>\n        <AppBar />\n\n        <Switch>\n          {/* <Route exact path=\"/\" component={HomeView} /> */}\n          <PublicRoute exact path=\"/\">\n            <HomeView />\n          </PublicRoute>\n          <PublicRoute exact path=\"/register\" restricted>\n            <Registration />\n          </PublicRoute>\n          <PublicRoute exact path=\"/login\" restricted>\n            <Login />\n          </PublicRoute>\n          {/* <Route path=\"/register\" component={Registration} />\n        <Route path=\"/login\" component={Login} /> */}\n          {/* <Route path=\"/contacts\" component={ContactsView} /> */}\n          <PrivateRoute path=\"/contacts\" exact>\n            <ContactsView />\n          </PrivateRoute>\n        </Switch>\n      </Container>\n    )\n  );\n}\n\n// export default connect()(App);\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport { store, persistor } from './redux/store';\n// import store from './redux/store';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nconsole.log(store.getState());\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\nreportWebVitals();\n"],"sourceRoot":""}